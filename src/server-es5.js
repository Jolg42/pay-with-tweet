module.exports=function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=7)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-router")},function(e,t){e.exports=require("path")},function(e,t){e.exports=require("fs")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=[{id:1,name:"JWT Handbook",author:"Sebastian Peirot",version:"1.2.0",instructions:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",newFeatures:["feature 1","feature 2","feature 3"],aboutAuthor:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",authorTwitterAccount:"@author",authorPicture:"/img/author-1.png",ebookPicture:"/img/ebook-1.png"},{id:2,name:"Introduction to Ethereum",author:"Sebastian Peirot",version:"1.2.0",instructions:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",summary:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",newFeatures:["feature 1","feature 2","feature 3"],aboutAuthor:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",authorTwitterAccount:"@author",authorPicture:"/img/author.png",ebookPicture:"/img/ebook-2.png"}];t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={url:"https://pay-with-tweet.herokuapp.com/"};t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(1),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"not-found"},l.default.createElement("h1",null,"404"),l.default.createElement("h2",null,"Page not found!"),l.default.createElement("p",null,l.default.createElement(c.Link,{to:"/"},"Go back to the main page")))}}]),t}(l.default.Component);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(2),a=r(o),i=n(3),u=r(i),l=n(8),c=n(9),s=r(c),f=n(0),d=r(f),p=n(10),m=n(1),b=n(11),h=r(b),y=n(5),v=r(y),_=n(6),w=r(_),g=n(23),E=r(g),O=new s.default,j=new l.Server(O);O.set("view engine","ejs"),O.set("views",a.default.join(__dirname,"views")),O.use(s.default.static(a.default.join(__dirname,"static"))),O.get("/download/:sid",function(e,t){var n=e.params.sid;E.default.getDownloadFilePath(n,function(e,r){if(e)return t.end("Error");console.log(r);var o=u.default.createReadStream(r),a=u.default.statSync(r);t.setHeader("Content-Length",a.size),t.setHeader("Content-Type","application/pdf"),t.setHeader("Content-Disposition","attachment; filename="+n+".pdf"),o.pipe(t),E.default.deleteDownload(n,function(e){console.log("Link deleted")})})}),O.get("/generateDownload/:id",function(e,t){E.default.createDownload(__dirname+"/pdf/"+e.params.id+".pdf",function(e,n){console.log(e),t.setHeader("Content-Type","application/json"),t.send(JSON.stringify({link:v.default.url+"download/"+n}))})}),O.get("*",function(e,t){(0,m.match)({routes:h.default,location:e.url},function(e,n,r){if(e)return t.status(500).send(e.message);if(n)return t.redirect(302,n.pathname+n.search);var o=void 0;return r?o=(0,p.renderToString)(d.default.createElement(m.RouterContext,r)):(o=(0,p.renderToString)(d.default.createElement(w.default,null)),t.status(404)),t.render("index",{markup:o})})});var k=process.env.PORT||3e3;j.listen(k,function(e){if(e)return console.error(e);console.info("Server running on http://localhost:"+k+" [production]")})},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("express")},function(e,t){e.exports=require("react-dom/server")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(1),u=n(12),l=r(u),c=n(13),s=r(c),f=n(15),d=r(f),p=n(6),m=r(p),b=a.default.createElement(i.Route,{path:"/",component:l.default},a.default.createElement(i.IndexRoute,{component:s.default}),a.default.createElement(i.Route,{path:"ebook/:slug/:id",component:d.default}),a.default.createElement(i.Route,{path:"*",component:m.default}));t.default=b},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=(n(1),function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"app-container"},l.default.createElement("header",{className:"app-container-header"},l.default.createElement("a",{href:"/"},l.default.createElement("img",{src:"/img/auth0-logo.png"}),l.default.createElement("h1",null,"Ebook pay with tweet application"))),l.default.createElement("div",{className:"app-content"},this.props.children))}}]),t}(l.default.Component));t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(14),f=r(s),d=n(4),p=r(d),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"ebook-list"},c.default.createElement("h2",null," Available Ebooks "),c.default.createElement("table",{className:"ebook-table"},c.default.createElement("thead",null,c.default.createElement("tr",null,c.default.createElement("th",{className:"id-header"},"#"),c.default.createElement("th",{className:"name-header"},"Name"),c.default.createElement("th",{className:"author-header"},"Author"))),c.default.createElement("tbody",null,p.default.map(function(e){return c.default.createElement(f.default,{key:e.id,id:e.id,name:e.name,author:e.author})}))))}}]),t}(c.default.Component);t.default=m},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=n(1),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"slugify",value:function(e){return e.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},{key:"render",value:function(){return l.default.createElement("tr",{className:"ebook-row"},l.default.createElement("td",{className:"ebook-id"},this.props.id),l.default.createElement("td",{className:"ebook-name"},l.default.createElement(c.Link,{to:"/ebook/"+this.slugify(this.props.name)+"/"+this.props.id},this.props.name)),l.default.createElement("td",{className:"ebook-author"},this.props.author))}}]),t}(l.default.Component);t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=(n(1),n(4)),f=r(s),d=n(16),p=r(d),m=n(17),b=r(m),h=n(18),y=r(h),v=n(19),_=r(v),w=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.params.id,t=f.default.find(function(t){return t.id==e});return c.default.createElement("div",{className:"ebook-page-main"},c.default.createElement(y.default,{title:t.name,version:t.version,author:t.author}),c.default.createElement(b.default,{picture:t.ebookPicture}),c.default.createElement(_.default,{summary:t.summary,content:t.description,id:t.id,title:t.name,instructions:t.instructions}),c.default.createElement(p.default,{about:t.aboutAuthor,picture:t.authorPicture,twitterAccount:t.authorTwitterAccount}))}}]),t}(c.default.Component);t.default=w},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"author"},l.default.createElement("div",{className:"author-title"},l.default.createElement("h2",null,"About the author")),l.default.createElement("div",{className:"author-picture"},l.default.createElement("img",{src:this.props.picture})),l.default.createElement("p",{className:"author-about"},this.props.about),l.default.createElement("div",{className:"author-followtwitter"},l.default.createElement("span",null,"Follow him on ",l.default.createElement("img",{src:"/img/twitter-round.png"}))))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ebook-thumb-wrapper"},l.default.createElement("img",{src:this.props.picture}))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(u),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:"ebook-summary right-container"},l.default.createElement("h2",{className:"ebook-summary-title"},this.props.title),l.default.createElement("span",{className:"ebook-summary-author"},"Written by ",this.props.author),l.default.createElement("span",{className:"ebook-summary-version"},l.default.createElement("img",{src:"/img/ebook-icon.png"})," Ebook version ",this.props.version))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(20),f=r(s),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return c.default.createElement("div",{className:"ebook-contents right-container"},c.default.createElement("p",{className:"ebook-contents-paragraph ebook-contents-summary"},this.props.summary),c.default.createElement("p",{className:"ebook-contents-paragraph ebook-contents-description"},this.props.content),c.default.createElement("div",{className:"ebook-contents-link-toc"},c.default.createElement("a",{href:"#"},"Contents ",c.default.createElement("img",{src:"/img/arrow.png"})," ")),c.default.createElement(f.default,{id:this.props.id,title:this.props.title,version:this.props.version,downloadLink:""}),c.default.createElement("hr",{className:"content-separator"}),c.default.createElement("p",{className:"ebook-contents-paragraph ebook-contents-instructions"},this.props.instructions))}}]),t}(c.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),c=r(l),s=n(5),f=r(s),d=n(21),p=n(22),m=r(p),b=d.ShareButtons.TwitterShareButton,h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={shared:!1,downloaded:!1},n}return i(t,e),u(t,[{key:"afterSharedTweet",value:function(){var e=this;(0,m.default)({method:"get",url:f.default.url+"generateDownload/"+this.props.id,responseType:"stream"}).then(function(t){console.log(e.props),e.props.downloadLink=t.data.link,e.setState({shared:!0})})}},{key:"render",value:function(){var e="I just downloaded "+this.props.title+" 📖 by @auth0. "+this.props.version+". Check it out!",t=f.default.url+"ebook/"+this.props.id,n="";return n=this.state.shared?c.default.createElement("div",{className:"payment-download-wrapper"},c.default.createElement("a",{href:this.props.downloadLink},"Download")):c.default.createElement(b,{url:t,title:e,onShareWindowClose:this.afterSharedTweet.bind(this)},c.default.createElement("span",null," Pay with tweet")),c.default.createElement("div",{className:"payment"},n,c.default.createElement("div",{className:"emailDownload"},c.default.createElement("span",null,"Download via email")))}}]),t}(c.default.Component);t.default=h},function(e,t){e.exports=require("react-share")},function(e,t){e.exports=require("axios")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){var n=l.default.createReadStream(e);n.once("error",function(e){console.log(e)}),n.once("end",function(){console.log("done copying")}),n.pipe(l.default.createWriteStream(t))}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),l=r(u),c=n(24),s=r(c),f=n(2),d=r(f),p=__dirname+"/static/download",m=function(){function e(){o(this,e)}return i(e,null,[{key:"createDownload",value:function(e,t){if(!l.default.existsSync(p))return t(new Error("Session directory does not exist"));if(!l.default.existsSync(e))return t(new Error("File doest not exist"));var n=s.default.createHash("md5").update(Math.random().toString()).digest("hex");a(e,d.default.join(p,n+".pdf")),t(null,n)}},{key:"getDownloadFilePath",value:function(e,t){var n=d.default.join(p,e+".pdf");if(!l.default.existsSync(n))return t(new Error("Download does not exist"));t(null,n)}},{key:"deleteDownload",value:function(e,t){var n=d.default.join(p,e+".pdf");if(!l.default.existsSync(n))return t(new Error("Download does not exist"));l.default.unlink(n,function(e){if(e)return t(e);t()})}}]),e}();t.default=m},function(e,t){e.exports=require("crypto")}]);